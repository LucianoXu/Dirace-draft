\section{Related Work}

\paragraph*{Comparison with DiracDec~\cite{diracdec}}
Xu \emph{et al}~\cite{diracdec} define a language and an associate and
commutative rewriting system for Dirac notation, and implement their
language and rewriting system in Mathematica. Our approach follows a
similar pattern. However, there are significant differences in terms
of scope, expressiveness, and efficiency. We review these differences
below.

The most obvious difference is that D-Hammer targets labelled Dirac
notation, whereas DiracDec targets plain Dirac notation. As already
mentioned, the use of labelled Dirac notation is essential in many
applications; in particular, labelled Dirac notation can simplify
notation and proofs, and is in general better suited for writing and
reasoning about complex, many-body, quantum states. However, there are
several other important differences. First, our language leverages
higher-order functions to provide a compact and expressive
representation of big operators. Second, our language adopts AC
symbols with indefinite arities, which leads to compact representation
of terms, and eases AC reasoning. Third, the relation with Mathematica
is fundamentally different. DiracDec is implemented in Mathematica; as
a consequence, its behavior, and in particular, its typing rules are
constrained by the lack of typing in Mathematica. In contrast,
D-Hammer is designed as a separate tool; as a consequence, it benefits
from an improved representation of terms (e.g.\, AC operators with
indefinite arity), a more expressive type system (e.g.\, dependent
types), and a more efficient rewriting engine. D-Hammer still relies
on Mathematica to reason about functions that are not natively
supported by rewriting rules, but these interactions are constrained
and do not have negative effects on the overall efficiency of the
system. This is reflected in our experimental comparison of D-Hammer
and DiracDec, which shows how the former outperforms the latter.


\paragraph*{Comparison with ZX Calculus}
The ZX calculus~\cite{DBLP:conf/icalp/CoeckeD08,vandewetering2020zx}
is a popular graphical calculus for reasoning about quantum states.
The foundations of the ZX calculus are grounded in categorical quantum
mechanics (CQM)~\cite{DBLP:conf/lics/AbramskyC04}, which provides an
category-theoretic foundation for quantum mechanics.  A key aspect of
the ZX calculus and related graphical calculi is that they support a
form of graph rewriting. Two notable properties of these rewriting
systems are:
\begin{itemize}
\item completeness:
\item efficiency:
\end{itemize}
Both Labelled Dirac Notation (LDN) and the ZX calculus share the use
of rewriting techniques. However, it is difficult to compare the ZX
calculus and LDN. First, they have different scopes: the ZX calculus
mainly focuses on quantum circuits, whereas LDN aims to provide
general support for quantum physics. This difference in scope is
reflected in the underlying languages: for instance, many works in ZX
calculus consider concrete sets of quantum gates, whereas LDN
emphasizes the use of big operators, and does not attempt to provide
specialized support for a particular set of quantum gates. As a
result, many of the examples handled by D-Hammer cannot be formalized
in existing ZX-calculus tools. On the contrary, D-Hammer is not
competitive on the examples that can be verified by ZX-calculus.

\gb{give a few examples in terms of size and time}

\paragraph*{Comparison with path-over sums approach}
Similarly, there exist
completeness results and tools for the sum-over-paths representation
of quantum states~\cite{amy2018towards,amy2023complete}.


\paragraph*{Comparison with equivalence checking}

Automata-based approaches has also been successfully applied for
reasoning about quantum circuits~\cite{AutoQ_pldi_2023}. Instead of
representing a set of $n$-qubit states in exponential size,
\cite{AutoQ_pldi_2023} encode it as (finite) tree automata with much
less (often $\mathit{poly}(n)$) transitions.  They further established
transformers to implement the semantics of quantum gates over this
representation, providing better scalability compared to other
approaches. It is developed as a practical tool \textsc{autoq} with
the capabilities for symbolic reasoning~\cite{AutoQ2023}. More
recently, \cite{AutoQ_popl2025} further explore level-synchronized
tree automata to encoding state, a promising model for parameterized
verification.


\paragraph*{Canonical forms in multi-body quantum physics}

\paragraph*{Comparison with egraphs}
Our algorithm is based on term rewriting. However, it is a challenge
to device well-behaved and efficient term rewriting for (labelled)
Dirac notation. An alternative to term rewriting would be to use
equality saturation~\cite{DBLP:journals/pacmpl/WillseyNWFTP21}, a
powerful equational reasoning technique that does not require
existence of normal forms. Equality saturation may be particularly
useful when considering further extensions of labelled Dirac notation.

%% The first step is to formalize the language for Dirac notation. In DiracDec, the language has a concrete design, where the same syntax for different types corresponds to distinct symbols. Our goal is to transition from this concrete design to a more abstract one, which aligns more closely with the conventional Dirac notation we use and simplifies the term rewriting system.

%% %% Automated theorem proving has seen significant advancements in recent years, particularly through the development of satisfiability modulo theories (SMT) solvers,
%% %% % SMT solvers extend propositional satisfiability by integrating theories such as arithmetic, arrays, and bit-vectors, making them suitable for solving a wide range of verification problems in both hardware and software domains. 
%% %% including prominent tools like Z3. These solvers have become essential in various fields such as formal verification, synthesis, and model checking. 
%% %% Equational reasoning is another crucial area of research within automated theorem proving, which focuses on solving problems that involve equations between terms in an algebraic structure. 
%% %% Equational provers, such as Vampire and E, have played a pivotal role in addressing the challenge of proving equations in first-order logic, employing sophisticated algorithms like superposition and term rewriting.

%% %% Formal verification of quantum computation is receiving increasing attentions during these years. See~\cite{Lewis2023} for a comprehensive review. 
%% %% Verification frameworks in Coq include the foundational formalization CoqQ and quantum circuit language QWIRE. 
%% %% Verifications of quantum programs are also considered, such as the Hoare logic based methods [] and model checking based methods [].
%% %% The equational reasoning of Dirac notation is crucial for establishing property proofs in these works.
%% %% Verification theoreis and tools based on other languages are also proposed, such as PyZX for reasoning and simplification of ZX-calculus.




\section{Conclusion and Future Work}
We have designed and implemented D-Hammer, a dependently typed
higher-order language and proof system for labelled Dirac
notation. D-Hammer benefits from an optimized implementation in
\CC\ and a tight integration with Mathematica to reason about a broad
range of mathematical functions, including trigonometric and
exponential functions, that are commonly used in quantum physics.
There are two important directions for future work. 
% The first
% direction is to enhance D-Hammer with support for big tensor notation,
% i.e.\, to support expressions of the form $\bigotimes_{i\in I}
% e_i$. 
The first direction is to extend D-Hammer with a mechanism to
generate independently verifiable certificates.  There is a large body
of work on producing certificates for automated tools, in particular
SMT solvers; see e.g.~\cite{DBLP:journals/cacm/BarbosaBCDKLNNOPRTZ23}
for a recent overview. One potential option would be to integrate
D-Hammer with the Coq or Lean proof assistants; in the first case, one
would benefit from the formalization of labelled Dirac notation in
CoqQ~\cite{Zhou2023}, whereas in the second case, one would benefit
from powerful mechanisms to integrate rewriting procedures into the
Lean proof assistant. The second direction is to connect
D-Hammer with quantum program verifiers. Two potential applications
are automating equational proofs for tools that already use Dirac
notation, and to substitute numerical methods for tools that use
matrices instead of symbolic assertions.




%% Based on the first equational reasoning tool for Dirac notation called DiracDec, this work improves and extends the theory for practical applications, and provides the solver D-Hammer. Experiments show that the tool demonstrates advantages in decidability, efficiency and usability. 

%% We expect D-Hammer to have applications in areas like quantum program verification or proofs of post-quantum cryptography protocols in the future.
%% One promising following up is to connect D-Hammer with theorem provers like Coq. It involves transforming theorem prover expressions into D-Hammer, and verify the proof trace of D-Hammer in theorem provers. Besids, most quantum program verifiers nowadays depend on matrix calculations. D-Hammer can serve as the replacement for matrix methods to enable symbolic deductions.

